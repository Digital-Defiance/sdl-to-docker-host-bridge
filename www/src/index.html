<!DOCTYPE html>
<html>
<head>
  <title>WebSocket Example</title>
  <script src="https://cdn.jsdelivr.net/npm/htmx.org@1.5.0/dist/htmx.js"></script>
</head>
<body>
  <h1>WebSocket Example</h1>
  <div id="message-container">
    <ul id="messages"></ul>
  </div>
  
  <form hx-post="/ws" hx-swap="outerHTML" hx-target="#message-container">
    <input type="text" name="message" placeholder="Type a message" required>
    <button type="submit">Seknd</button>
  </form>


  <div id="msg">
    aaa
  </div>

  <script>
    const ws = new WebSocket("ws://localhost:8888");


    document.getElementById('msg').innerHTML = `asdfadsf`


    ws.addEventListener("message", event => {
      const messageList = document.getElementById("messages");
      const message = document.createElement("li");
      message.textContent = event.data;
      messageList.appendChild(message);
    });
  </script>
</body>
</html>
